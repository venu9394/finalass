<!doctype html>
<html class="fixed">
	<head>

		<!-- Basic -->
		<meta charset="UTF-8">

		<title>Hetero</title>
		<meta name="keywords" content="HETERO" />
		<meta name="description" content="Hetero">
		<meta name="author" content="Hetero">

		<!-- Mobile Metas -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

		<!-- Web Fonts  -->
		<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800|Shadows+Into+Light" rel="stylesheet" type="text/css">

		<!-- Vendor CSS -->
		<link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.css" />
		<link rel="stylesheet" href="assets/vendor/font-awesome/css/font-awesome.css" />
		
		<!-- Specific Page Vendor CSS -->
		<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
		<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>

		<!-- Theme CSS -->
		<link rel="stylesheet" href="assets/stylesheets/theme.css" />
		<link rel="stylesheet" href="assets/stylesheets/date.css" />
		<link rel="stylesheet" href="assets/stylesheets/jquery-ui.css" />

		<!-- Skin CSS -->
		<link rel="stylesheet" href="assets/stylesheets/skins/default.css" />

		<!-- Theme Custom CSS -->
		<link rel="stylesheet" href="assets/stylesheets/theme-custom.css">

		<!-- Head Libs -->
	
		<style>
			.center_div{
    margin: 0 auto;
    width:50% /* value of your choice which suits your alignment */
}
.center_div1{
    margin: 10px auto;
	
    width:100% /* value of your choice which suits your alignment */
}
</style>

		 <script>
  $( function() {
   var dateFormat = "yy-mm-dd",
      from = $( "#from" )
        .datepicker({
		//dateFormat: 'dd-mm-yy',
		  dateFormat: 'yy-mm-dd',
          defaultDate: "+1w",
          changeMonth: true,
          
        })
        .on( "change", function() {
          to.datepicker( "option", "minDate", getDate( this ) );
        }),
      to = $( "#to" ).datepicker({
    	  dateFormat: 'yy-mm-dd',
        defaultDate: "+1w",
        changeMonth: true,
        
      })
      .on( "change", function() {
        from.datepicker( "option", "maxDate", getDate( this ) );
      });
 
    function getDate( element ) {
      var date;
      try {
        date = $.datepicker.parseDate( dateFormat, element.value );
      } catch( error ) {
        date = null;
      }
 
      return date;
    }
  } );
  
  </script>
  <script>
  $( function() {
    $( "#date" ).datepicker(
    {
    	dateFormat: 'yy-mm-dd'
    }		
    );
    
  } );
 
  $( function() {
    $( "#date1" ).datepicker(
    {
    	dateFormat: 'yy-mm-dd'
    }
    );
    
  } );
  </script>
   <script>
  $( function() {
    var availableTags = [
      "ravichandra@heterohealthcare.com",
	  "chiranjeevi.velagala@heterohealthcare.com",
	  "venubabu.g@heterohealthcare.com",
	  "mahesh.ch@heterohealthcare.com",
	  "bhargavi.a@heterohealthcare.com",
	  "sairam.d@heterohealthcare.com",
	  
	  
    ];
    function split( val ) {
      return val.split( /;\s*/ );
    }
    function extractLast( term ) {
      return split( term ).pop();
    }
 
    $( "#tags" )
      // don't navigate away from the field on tab when selecting an item
      .on( "keydown", function( event ) {
        if ( event.keyCode === $.ui.keyCode.TAB &&
            $( this ).autocomplete( "instance" ).menu.active ) {
          event.preventDefault();
        }
      })
      .autocomplete({
        minLength: 0,
        source: function( request, response ) {
          // delegate back to autocomplete, but extract the last term
          response( $.ui.autocomplete.filter(
            availableTags, extractLast( request.term ) ) );
        },
        focus: function() {
          // prevent value inserted on focus
          return false;
        },
        select: function( event, ui ) {
          var terms = split( this.value );
          // remove the current input
          terms.pop();
          // add the selected item
          terms.push( ui.item.value );
          // add placeholder to get the comma-and-space at the end
          terms.push( "" );
          this.value = terms.join( "; " );
          return false;
        }
      });
  } );
  </script>
  <script>
  $( function() {
    var availableTags = [
      "ravichandra@heterohealthcare.com",
	  "chiranjeevi.velagala@heterohealthcare.com",
	  "venubabu.g@heterohealthcare.com",
	  "mahesh.ch@heterohealthcare.com",
	  "bhargavi.a@heterohealthcare.com",
	  "sairam.d@heterohealthcare.com",
	  
	  
    ];
    function split( val ) {
      return val.split( /;\s*/ );
    }
    function extractLast( term ) {
      return split( term ).pop();
    }
 
    $( "#tags1" )
      // don't navigate away from the field on tab when selecting an item
      .on( "keydown", function( event ) {
        if ( event.keyCode === $.ui.keyCode.TAB &&
            $( this ).autocomplete( "instance" ).menu.active ) {
          event.preventDefault();
        }
      })
      .autocomplete({
        minLength: 0,
        source: function( request, response ) {
          // delegate back to autocomplete, but extract the last term
          response( $.ui.autocomplete.filter(
            availableTags, extractLast( request.term ) ) );
        },
        focus: function() {
          // prevent value inserted on focus
          return false;
        },
        select: function( event, ui ) {
          var terms = split( this.value );
          // remove the current input
          terms.pop();
          // add the selected item
          terms.push( ui.item.value );
          // add placeholder to get the comma-and-space at the end
          terms.push( "" );
          this.value = terms.join( "; " );
          return false;
        }
      });
  } );
  </script>
	</head>
	<body>
		<section class="body">


				
					<!-- start: page -->
					<div class="container">
						<div class="row center_div1" >
							<div class="col-md-12">
								<div class="panel panel-danger" >
									<div class="panel-heading1">
										<span><b>Apply Leave</b> </span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								        <!-- <span id="Responce_Message" style="color:white;" >  </span> -->
									</div>
									<div class="panel-body">
										<form action="" method="post" >
											<div class="col-md-6">	
												<div class="form-group row">
													<label class="col-sm-6 control-label">Select Leave Category</label>
													<select  id="Leave_Type" class="control-label col-sm-6">
														<!-- <option value="0">Select</option> -->
														<option value="Sick_Leave">Sick Leave</option>
														<option value="Casual_Leave" selected>Casual Leave</option>
														<option value="Earned_Leave">Earned Leave</option>
														<option value="COMP_OFF">COMP-OFF</option>
													</select>
												</div>
																						
												<div class="form-group">
													<div class="col-md-6">
														<label  class="col-sm-4 control-label">From</label>
														<div class="col-sm-8">
														<input type="text" id="from" name="from" class="form-control ">
														</div>
													</div>	
													<div class="col-md-6">
														<label  class="col-sm-4 control-label" >To</label>
														<div class="col-sm-8">
														<input type="text" id="to" name="to" class="form-control ">
														</div>
													</div>
													
												</div>	
												<div class="form-group row ">
														<div class="col-md-8">
															<label class="col-sm-8 control-label">Half Day Applicable</label>
															<div class="col-sm-4">
																<label>
																	<input class="form-check-input" type="checkbox" name="HalfDay" onclick="RefreshRadio(this,'date')"  id="HalfDay" value="Yes"> Yes
																</label>
															</div>
														</div>	
														<div class="col-md-4">
																<label  class="col-sm-4 control-label">Date</label>
																<div class="col-sm-8">
																	<input type="text" id="date" name="date" class="form-control" Disabled />
																</div>
																
														</div>
														
												</div>
												<div class="form-group row">
														<div class="col-md-8">
															<label class="col-sm-8 control-label">COMP-OFF Applicable</label>
															<div class="col-sm-4">
																<label>
																	<input class="form-check-input" type="checkbox" name="compoff" onclick="RefreshRadio(this,'date1')"  id="compoff" value="Yes"> Yes
																</label>
															</div>
														</div>	
														<div class="col-md-4">
																<label  class="col-sm-2 control-label">Date</label>
																<div class="col-sm-10">
																	<input type="text" id="date1" name="date1" class="form-control" Disabled />
																</div>
																
														</div>
														
												</div>
												<div class="form-group">
													<label class="col-sm-12 control-label"><strong>Guidelines:</strong></label>
													
												</div>
												<div class="form-group">
													<div class="col-sm-12">
														<ul>
															<li>Half day is applicable, mentioned date should be matched with from date or to date OR else it considered as full day</li>
															<li>Comp-off is Applicable, mentioned date should be matched with working date OR else this is not considered</li>
															<li>If any Public holiday (OR) Weak off days in  between days it considered </li>
															<li>Note: Please contact HR Team for further information...</li>
														</ul>
													</div>
												</div>
												
											</div>
											<div class="col-sm-6 col-md-6">
											
												<div class="form-group">
													<label class="col-md-4 control-label">To</label>
													<div class="col-md-8">
														<input type="email" class="form-control" name="toemail" id="tags"  placeholder="someone@example.com">
													</div>
												</div>
												<div class="form-group">
													<label class="col-md-4 control-label">Cc</label>
													<div class="col-md-8">
														<input type="email" class="form-control" name="ccemail" id="tags1"  value="Request For Leave" placeholder="someone@example.com">
													</div>
												</div>
												<div class="form-group">
													<label class="col-md-4 control-label">Subject</label>
													<div class="col-md-8">
														<input type="text" class="form-control" name="subject" id="subject" placeholder="Subject">
													</div>
												</div>
												<div class="form-group">
													<label class="col-md-4 control-label">Reason for Leave</label>
													<div class="col-md-8">
														<textarea class="form-control" rows="5" id="reason" name="reason" placeholder="Just mention reason only, not required a letter format "></textarea>
													</div>
												</div>
												<span id="Responce_Message" style="color:red;" >  </span>
												<!-- <div class="form-group">
													<label class="col-md-4 control-label">Attachment</label>
													<div class="col-md-8">
														<div class="fileupload fileupload-new" data-provides="fileupload">
															<input type="file" id="resume">
															<span class="fileupload-preview"></span>
															
														</div>
													</div>
												</div> -->
												<div class="form-group">
												<button type="button" class="btn btn-primary align-right" onclick="Leave_Validation();" >Send</button>
												</div>
											</form>
											
										</div>
									</div>
									
									
								</div>
							</div>
						</div>	
						
					</div>
					<!-- end: page -->
				

			

			
		</section>
<script>
function RefreshRadio(evn,data){
	 if(document.getElementById(""+evn.id+"").checked){
	   document.getElementById(""+data+"").disabled=false;
	 }else{
		 document.getElementById(""+data+"").value='';
		 document.getElementById(""+data+"").disabled=true;
	 }
}

function Leave_Validation(){
	
 var Leave_Type=document.getElementById('Leave_Type').value;
 var from_date=document.getElementById('from').value;
 var to_date=document.getElementById('to').value;
 var HalfDay=document.getElementById('HalfDay').checked;
 var compoff=document.getElementById('compoff').checked;
 
 var Hal_date=document.getElementById('date').value;
 
 var comm_date=document.getElementById('date1').value;
 
 var to_mail=document.getElementById('tags').value; // to mail
 var cc_mail=document.getElementById('tags1').value; // ccmail
 var subject=document.getElementById('subject').value;
 var reason=document.getElementById('reason').value;
 
	
 
 
 if(from_date.length<4){
	   
	   document.getElementById("Responce_Message").innerHTML="Please Select From Date";
	   return false;
   }else if(to_date.length<4){
	   document.getElementById("Responce_Message").innerHTML="Please Select to Date";
	   return false;
   }else if(to_date.length<4){
	   document.getElementById("Responce_Message").innerHTML="Please Select to Date";
	   return false;
   }else if(HalfDay && Hal_date.length<4){
	   
	   document.getElementById("Responce_Message").innerHTML="Please select Half Day Applicable date";
	   return false;
   }else if(compoff && comm_date.length<4){
	   document.getElementById("Responce_Message").innerHTML="Please select COMP-OFF applicable  date";
	   return false;
   }else if(HalfDay && Hal_date.length>4){
	   if(from_date!=Hal_date && to_date!=Hal_date ){
	   	document.getElementById("Responce_Message").innerHTML="Half Day Applicable date should be match with from date or todate ";
	   	return false;
	   }
   }else if(to_mail.length<4){
	   
	   document.getElementById("Responce_Message").innerHTML="Please enter proper to mail address else it should'nt process to your manager ";
	   	return false; 
	   
	   
   }else if(subject.length<1){
	   
	   document.getElementById("Responce_Message").innerHTML="Please enter subject";
	   	return false; 
	   
	   
   }else if(reason.length<4){
	   
	   document.getElementById("Responce_Message").innerHTML="Please enter reason for leave";
	   	return false; 
	   
	   
   }
 
   document.getElementById("Responce_Message").innerHTML="";
	
   if(to_mail.length<4 && reason.length<4 ){
   	Apply_Leave(Leave_Type,from_date,to_date,HalfDay,Hal_date,compoff,comm_date,to_mail,cc_mail,subject,reason);
   }else{
	   document.getElementById("Responce_Message").innerHTML="Please check to mail and reason for leave";
   }
	
	
}

function Apply_Leave(Leave_Type,from_date,to_date,HalfDay,Hal_date,compoff,comm_date,to_mail,cc_mail,subject,reason){
	
		var formData = {Routing:"LeaveMgM",Leave_Type:""+Leave_Type+"",from_date:""+from_date+"",to_date:""+to_date+"",HalfDay:""+HalfDay+"",Hal_date:""+Hal_date+"",compoff:""+compoff+"",comm_date:""+comm_date+"",to_mail:""+to_mail+"",cc_mail:""+cc_mail+"",subject:""+subject+"",reason:""+reason+"",};
	try{
	    $.ajax({
	          type: "post",
	          url: "LeaveManagement",
	          data: formData,
	          success: function(responseData, textStatus, jqXHR) {
	             try{
	             
	            	  alert("responseData::"+responseData);
	            	document.getElementById("Responce_Message").innerHTML=responseData;
	              //document.getElementById("Responce_Message_btn").style.display='none';
	              
	           	   // document.getElementById('newpassword').value="";
	       		   // document.getElementById('confirmpassword').value="";
	        		//document.getElementById('currentpassword').value="";
	           
	             }catch(err){
	            	 
	             }
	          },
	          error: function(jqXHR, textStatus, errorThrown) {
	              console.log(errorThrown);
	              document.getElementById("Responce_Message").innerHTML=errorThrown;
	             // document.getElementById("Responce_Message_btn").style.display='';
	             
	          }
	      })
	}catch(err){
		
	}
	  
}	
	
</script>	
	
	
	
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		<!-- Vendor -->
	 		<script src="assets/vendor/bootstrap/js/bootstrap.js"></script>
	
		<!-- Theme Base, Components and Settings -->
		<script src="assets/javascripts/theme.js"></script>
	
		
		<!-- Theme Initialization Files -->
		<script src="assets/javascripts/theme.init.js"></script>


		
	</body>
</html>